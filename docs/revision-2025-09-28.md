# Repository Revision – 2025-09-28

Diese Revision fasst den aktuellen Planungsstand aller House-Layer zusammen und integriert die heutigen Eingaben. Sie dient als Ausgangsbasis für die Arbeiten am Folgetag.

## Eingang (heutiger Kontext)
- **Fundament** bleibt dockerzentriert: Host stellt Docker Desktop/Engine bereit, zusätzliche Services laufen nur bei Bedarf. Ollama verbleibt hostseitig für maximale Performance.
- **Basement** fokussiert auf hostnahe LLM-Läufe: Der Codex-CLI-Container agiert als dünner Client gegen `OLLAMA_HOST=http://host.docker.internal:11434` und nutzt ein Shared Volume (`./shared:/workspace`).
- **Wardrobe** fungiert als plattformübergreifender „Suit Switcher“: Overlays sollen identische Workflows auf Windows/NVIDIA und macOS ermöglichen, ohne Datenverlust oder erneutes Provisioning.
- **Toolbox** bildet den Dreh- und Angelpunkt für Projekte, Kataloge und Scripts; `gcodex` bleibt der primäre Einstieg in codex-gestützte Sessions.

## Layer Snapshot
### Fundament
- Host-Baselines nachgeführt in [`fundament/README.md`](../fundament/README.md) und [`fundament/versions.yaml`](../fundament/versions.yaml).
- Promotion- und Prüfpfade vorbereitet in [`fundament/STATE_VERIFICATION.md`](../fundament/STATE_VERIFICATION.md).
- Nächste Schritte: Docker- und Git-Versionen bei Änderungen spiegeln, Host-Ollama-Status dokumentieren, geplante Netzwerk-/Volume-Vorlagen ergänzen.

### Basement
- Enthält Stubs für `g-ollama`, `g-openwebui` sowie das `toolbox/`-Monorepo.
- Compose-Draft und Codex-Container-Dockerfile bleiben Entwürfe; produktive Images werden ausdrücklich vermieden.
- Nächste Schritte: Codex-Image-Härtung reviewen, MCP-Gateway-Spezifikation ausarbeiten, Wardrobe-Anforderungen in den Compose-Draft rückspiegeln.

### Wardrobe
- Overlay-Strukturen (`configs/`, `overlays/`, `wrappers/`) dienen als Platzhalter für CPU/GPU/CI-Profile.
- Fokus: Abläufe zwischen macOS-Host und Windows/NVIDIA-Host angleichen, `gcodex`-Wrapper als Referenz halten.
- Nächste Schritte: Konkrete Overlay-Matrizen erstellen (z. B. GPU-Treiberpfade, Volume-Mapping), Automatisierungspfade skizzieren, Synchronisation mit Basement-Compose herstellen.

### Entrance
- Sandbox für Canaries & Telemetrie (siehe [`entrance/README.md`](../entrance/README.md)).
- Aufgaben: Datenflussdefinitionen, Canary-Playbooks und Metriksammlung vorbereiten, sobald Wardrobe-Overlays getestet sind.

### Stable
- Produktionsskelett mit Host-/Monitoring-Platzhaltern (siehe [`stable/`](../stable/)).
- Aufgaben: Promotion-Gates aus Fundament übernehmen, Observability-Roadmap planen, erst nach erfolgreichem Entrance/Canary-Einsatz füllen.

## Toolbox Spotlight
- Projektübersicht in [`basement/toolbox/projects/toolbox/README.md`](../basement/toolbox/projects/toolbox/README.md) beschreibt den minimalen Codex-Stack und offene Planungsfragen.
- Wrapper [`basement/toolbox/bin/gcodex`](../basement/toolbox/bin/gcodex) bleibt der bevorzugte Einstiegspunkt; Shared Workspace unter `./shared` vorbereiten.
- Kataloge, Inventare und Schemata bleiben Stub-Status, werden aber als Referenzrahmen für künftige Aufgaben gepflegt.

## Cross-Layer Aufgaben für morgen
1. **Codex/Ollama-Verbindung verifizieren**: Draft-Kommandos sichten, Smoke-Test-Skripte vorbereiten (ohne produktive Runs).
2. **Wardrobe-Overlay-Matrix ausarbeiten**: Host-spezifische Unterschiede (macOS vs. Windows/NVIDIA) auflisten und Abgleich mit Shared-Workspace-Strategie durchführen.
3. **Promotion-Gates konkretisieren**: Prüfpunkte aus `STATE_VERIFICATION.md` den Layern zuordnen und Entscheidungslogik skizzieren.
4. **Toolbox-Dokumentation harmonisieren**: Doubletten im Compose-Draft bereinigen, Pending Tasks priorisieren, MCP-Gateway-Abhängigkeiten sammeln.
5. **Telemetrie-Vorbereitung**: Entrance-Ordner um geplante Event-Flows ergänzen, ohne reale Daten einzubringen.

## Referenzen
- Architekturdiagramm und Layerbeschreibung: [`docs/architecture.md`](architecture.md)
- Repository-Überblick: [`README.md`](../README.md)
- Layer-spezifische Ordner: [`fundament/`](../fundament/), [`basement/`](../basement/), [`wardrobe/`](../wardrobe/), [`entrance/`](../entrance/), [`stable/`](../stable/)

_Do not_ produktive Services, Secrets oder laufende Automationen einchecken; diese Revision bleibt ein reines Planungsartefakt.
