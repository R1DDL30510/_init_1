# Secure Home Systems (SHS) environment template
SHS_BASE=/workspace/_init_1
SHS_DOMAIN=localhost
TLS_MODE=local-ca
WATCH_PATH=./ingest
LAN_ALLOWLIST=127.0.0.1/32
OFFLINE=1
TRACE_SAMPLE_RATE=1.0
SHS_UID=1000
SHS_GID=1000
SHS_PROXY_PORT=8443

# TLS fingerprint verification (optional)
# Provide either the expected SHA-256 fingerprint string or a file path containing it.
# SHS_TLS_LEAF_FINGERPRINT_SHA256=AA:BB:CC:DD:...
# SHS_TLS_LEAF_FINGERPRINT_FILE=secrets/tls/leaf.sha256

# Database
POSTGRES_IMAGE=docker.io/library/postgres@sha256:0b723c153bca6ffdc3d8084d3b4d493a945b955456bb4318c74f7a66d371a1fd # postgres:15.6
POSTGRES_DB=shs
POSTGRES_USER=shs_app
POSTGRES_PASSWORD=***FILL***

# Object storage
MINIO_IMAGE=docker.io/minio/minio@sha256:b095ae7c04b9f26dcd7834ebc1f38e15fba58d3518c49c1118c56e309a5e5e91 # RELEASE.2024-01-11T07-46-16Z
MINIO_ROOT_USER=***FILL***
MINIO_ROOT_PASSWORD=***FILL***

# Reverse proxy
PROXY_IMAGE=docker.io/library/caddy@sha256:7b51768d110708c44179dc299884e9ee73d243a37abccce2dc796abc36371a38 # caddy:2.7.6

# Orchestration
N8N_IMAGE=docker.io/n8nio/n8n@sha256:cd74b115cae417cb36a98bf3af1a0eec7fc6cbeae46e6b64ef99e54e2062515a # n8n:1.45.1
N8N_ENCRYPTION_KEY=***FILL***
N8N_BASIC_AUTH_USER=***FILL***
N8N_BASIC_AUTH_PASSWORD=***FILL***

# Frontend
# upstream reference git-509d2a6, pinned by digest
OPENWEBUI_IMAGE=ghcr.io/open-webui/open-webui@sha256:3c0aba764a633c9f8edb8474f327ea2d534f54802e741a66a3ab75aa1069e387
OPENWEBUI_AUTH_MODE=local

# Backup encryption (age)
# Supply at least one recipient (public key) and a matching identity (private key) before running `make backup`/`make restore`.
# BACKUP_AGE_RECIPIENTS=age1examplepublickey,age1anotherpublickey
# BACKUP_AGE_RECIPIENTS_FILE=/secure/offline/recipients.txt
# BACKUP_AGE_IDENTITIES_FILE=/secure/offline/identities.txt
# BACKUP_AGE_IDENTITIES=AGE-SECRET-KEY-1,AGE-SECRET-KEY-2

# OCR
# Verified 2025-02-16: digest captured from ghcr.io/shs/offline-doctr:0.7.1
OCR_IMAGE=ghcr.io/shs/offline-doctr@sha256:99eaadaf0d242f8dfbd0429d5a1486cd9872faa1e043b423c33d1ff877a1c9f1

# Embeddings
# Verified 2025-02-16: digest captured from ghcr.io/shs/local-tei:0.10.1
TEI_IMAGE=ghcr.io/shs/local-tei@sha256:ddbf621c0bc9c63b1133c57d20d9af31d02cb0463fb38498c990adce700fc918

# Reranker
# Verified 2025-02-16: digest captured from ghcr.io/shs/local-reranker:0.3.0
RERANKER_IMAGE=ghcr.io/shs/local-reranker@sha256:26470d74a4dfe0e46ec06429b24737aacca5a1f4f661a9e6e3fcd6ea0669728b

# Optional LLM
OLLAMA_IMAGE=docker.io/ollama/ollama@sha256:bef60d0ca6194ae88df3107cd0f53cc44cc2d0e3d1a6d9798bab9ef80e31e364 # ollama:0.1.32
OLLAMA_PORT=11434
